doctype html
html
 head
 meta(charset='utf-8')
 title= title
 meta(name='dlux', content='crafting VR')
 block script
  script(src='https://aframe.io/releases/0.8.2/aframe.min.js')
  script(src='https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js')
  link(rel='stylesheet', href='/css/style.css')
  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous")
body
  script(src="https://code.jquery.com/jquery-3.2.1.min.js"
integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
crossorigin="anonymous")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.8.6/showdown.min.js")
  script(src="https://cdn.steemjs.com/lib/latest/steem.min.js")
  script(src="/js/main.js")
  script.
    AFRAME.registerComponent('cursor-listener', {
    init: function () {
    var lastIndex = -1;
    var COLORS = ['red', 'green', 'blue'];
    this.el.addEventListener('click', function (evt) {
    lastIndex = (lastIndex + 1) % COLORS.length;
    this.setAttribute('material', 'color', COLORS[lastIndex]);
    let voter = '${name}';
    console.log('I was clicked at: ', evt.detail.intersection.point);
    steem.vote(voter, 'disregardfiat', 'e0fff6c0-4533-11e8-a699-f3be07be675a', '10000', function (err, steemResponse) {
    if (err) {
    console.log('I errored at voting: ', evt.detail.intersection.point);
    }
    });
    });
    }
    });
  a-scene.fullscreen(id="" transparent="true" canvas="" keyboard-shortcuts="" screenshot="" vr-mode-ui="")
    a-assets
        video#oe(autoplay="" crossorigin="anonymous" loop="true" src="https://ipfs.io/ipfs/QmVow5NRdttgYR8veBra7DuGEm9CuiWoiWeDkMUWhU2P99")
        img#homeThumb(crossorigin="anonymous" src="https://ipfs.io/ipfs/QmYcNJ8MdN3vC8UZJYaN5Xx13m4ne3z456UCeSTYjE9J5v")
    a-camera(position="0 1.6 0")
      a-entity(cursor="fuse: true; fuseTimeout: 500" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat")
    a-videosphere(src="#oe")
    a-entity(position="0 0 0" rotation="90 0 0" link="href: /dashboard; title: dlux; image: #homeThumb")
    a-entity#vote(geometry="primitive: sphere" cursor-listener scale=".2 .2 .2" material="color: blue" position="-1 0 -1")
